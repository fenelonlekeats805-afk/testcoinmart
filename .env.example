# TestCoin Mart - Example environment (no real secrets).
#
# IMPORTANT:
# - Deploy scripts on Linux run `source .env`, so any value containing spaces MUST be quoted.
# - V1 pay-in uses address pools (no HD derivation). Provide enough addresses for concurrency.
#
# Copy to `.env` and fill all required values.

# Common
NODE_ENV=development

# Database / Redis
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/testcoin
REDIS_URL=redis://localhost:6379

# API
API_PORT=3001
ADMIN_JWT_SECRET=replace-me-with-long-random
ADMIN_USERNAME=admin
# Required when NODE_ENV=production (seed-admin.ts)
ADMIN_PASSWORD=replace-me

# Web/Admin API base
# In browsers, prefer relative `/v1` to avoid CORS when accessed by IP.
NEXT_PUBLIC_API_BASE=/v1
SERVER_API_BASE=http://127.0.0.1:3001/v1
NEXT_PUBLIC_SITE_URL=https://testcoinmart.top
NEXT_PUBLIC_GOOGLE_SITE_VERIFICATION=

# CORS (comma-separated allowlist)
CORS_ORIGINS=http://testcoinmart.top,http://www.testcoinmart.top,http://admin.testcoinmart.top,https://testcoinmart.top,https://www.testcoinmart.top,https://admin.testcoinmart.top

# Guardrails
IP_RATE_LIMIT_PER_MINUTE=1
ORDER_EXPIRY_MINUTES=10

# Confirm threshold (per pay-in chain)
BSC_CONFIRM_THRESHOLD=12
TRON_CONFIRM_THRESHOLD=20
SOL_CONFIRM_THRESHOLD=32
BASE_CONFIRM_THRESHOLD=12

# Supported stablecoin contracts / mints (mainnet)
BSC_USDT_CONTRACT=0x55d398326f99059fF775485246999027B3197955
BSC_USDC_CONTRACT=0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d
BASE_USDC_CONTRACT=0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913
SOL_USDT_MINT=Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB
SOL_USDC_MINT=EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v
TRON_USDT_CONTRACT=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t

# Token decimals (used for raw amount compute; must match docs/research/)
BSC_USDT_DECIMALS=18
BSC_USDC_DECIMALS=18
TRON_USDT_DECIMALS=6
SOL_USDT_DECIMALS=6
SOL_USDC_DECIMALS=6
BASE_USDC_DECIMALS=6

# Pay-in RPC endpoints (mainnet)
BSC_RPC_URL=replace-me
BASE_RPC_URL=https://mainnet.base.org
TRON_FULL_HOST=https://api.trongrid.io
TRON_API_KEY=
SOL_RPC_URL=https://api.mainnet-beta.solana.com

# Pay-in watcher tunables
BSC_STARTUP_LOOKBACK_BLOCKS=1200
BSC_LOG_BLOCK_STEP=9
BSC_LOG_ADDRESS_CHUNK=10
BSC_LOG_REQUEST_DELAY_MS=250
BASE_STARTUP_LOOKBACK_BLOCKS=1200
BASE_LOG_BLOCK_STEP=20
BASE_LOG_ADDRESS_CHUNK=10
BASE_LOG_REQUEST_DELAY_MS=250
TRON_WATCH_POLL_MS=12000
TRON_EVENT_LIMIT=120
TRON_STARTUP_LOOKBACK_MS=600000
TRON_SCAN_DELAY_MS=300
SOL_WATCH_POLL_MS=7000
SOL_SIGNATURE_LIMIT=10
SOL_SCAN_TARGET_LIMIT=120
SOL_SCAN_DELAY_MS=120

# One-order-one-address pool sources (comma-separated); V1 uses address pool assignment, not HD derivation.
PAYIN_POOL_BSC_USDT_ADDRESSES=0x1111111111111111111111111111111111111111,0x1111111111111111111111111111111111111112,0x1111111111111111111111111111111111111113,0x1111111111111111111111111111111111111114,0x1111111111111111111111111111111111111115,0x1111111111111111111111111111111111111116,0x1111111111111111111111111111111111111117,0x1111111111111111111111111111111111111118,0x1111111111111111111111111111111111111119,0x1111111111111111111111111111111111111120
PAYIN_POOL_BSC_USDC_ADDRESSES=0x2222222222222222222222222222222222222221,0x2222222222222222222222222222222222222222,0x2222222222222222222222222222222222222223,0x2222222222222222222222222222222222222224,0x2222222222222222222222222222222222222225,0x2222222222222222222222222222222222222226,0x2222222222222222222222222222222222222227,0x2222222222222222222222222222222222222228,0x2222222222222222222222222222222222222229,0x2222222222222222222222222222222222222230
PAYIN_POOL_TRON_USDT_ADDRESSES=TXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX01,TXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX02,TXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX03,TXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX04,TXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX05,TXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX06,TXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX07,TXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX08,TXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX09,TXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX10
PAYIN_POOL_SOL_USDT_ADDRESSES=So11111111111111111111111111111111111111112,So11111111111111111111111111111111111111113,So11111111111111111111111111111111111111114,So11111111111111111111111111111111111111115,So11111111111111111111111111111111111111116,So11111111111111111111111111111111111111117,So11111111111111111111111111111111111111118,So11111111111111111111111111111111111111119,So11111111111111111111111111111111111111120,So11111111111111111111111111111111111111121
PAYIN_POOL_SOL_USDC_ADDRESSES=4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU,4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDV,4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDW,4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDX,4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDY,4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDZ,4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncE1,4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncE2,4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncE3,4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncE4
PAYIN_POOL_BASE_USDC_ADDRESSES=0x3333333333333333333333333333333333333331,0x3333333333333333333333333333333333333332,0x3333333333333333333333333333333333333333,0x3333333333333333333333333333333333333334,0x3333333333333333333333333333333333333335,0x3333333333333333333333333333333333333336,0x3333333333333333333333333333333333333337,0x3333333333333333333333333333333333333338,0x3333333333333333333333333333333333333339,0x3333333333333333333333333333333333333340

# Telegram alerts (optional)
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# Dispatcher polling (ms)
DISPATCH_EVM_POLL_MS=5000
DISPATCH_SOLANA_POLL_MS=7000
DISPATCH_TON_POLL_MS=10000
DISPATCH_SUI_POLL_MS=5000

# EVM dispatchers (per-unit ship amount = 1 token)
DISPATCH_SEPOLIA_RPC_URL=https://ethereum-sepolia-rpc.publicnode.com
DISPATCH_SEPOLIA_PRIVATE_KEY=0xreplace-me
DISPATCH_SEPOLIA_AMOUNT_WEI=1000000000000000000

DISPATCH_BASE_SEPOLIA_RPC_URL=https://sepolia.base.org
DISPATCH_BASE_SEPOLIA_PRIVATE_KEY=0xreplace-me
DISPATCH_BASE_SEPOLIA_AMOUNT_WEI=1000000000000000000

DISPATCH_ARBITRUM_SEPOLIA_RPC_URL=https://sepolia-rollup.arbitrum.io/rpc
DISPATCH_ARBITRUM_SEPOLIA_PRIVATE_KEY=0xreplace-me
DISPATCH_ARBITRUM_SEPOLIA_AMOUNT_WEI=1000000000000000000

DISPATCH_BSC_TESTNET_RPC_URL=replace-me
DISPATCH_BSC_TESTNET_PRIVATE_KEY=0xreplace-me
DISPATCH_BSC_TESTNET_AMOUNT_WEI=1000000000000000000

DISPATCH_XLAYER_TESTNET_RPC_URL=https://testrpc.xlayer.tech
DISPATCH_XLAYER_TESTNET_PRIVATE_KEY=0xreplace-me
DISPATCH_XLAYER_TESTNET_AMOUNT_WEI=1000000000000000000

# Solana dispatchers (per-unit ship amount = 1 SOL)
DISPATCH_SOLANA_DEVNET_RPC_URL=replace-me
DISPATCH_SOLANA_DEVNET_SECRET_KEY=replace-me
DISPATCH_SOLANA_DEVNET_LAMPORTS=1000000000
DISPATCH_SOLANA_TESTNET_RPC_URL=https://api.testnet.solana.com
DISPATCH_SOLANA_TESTNET_SECRET_KEY=replace-me
DISPATCH_SOLANA_TESTNET_LAMPORTS=1000000000

# TON dispatcher (per-unit ship amount = 1 TON)
TON_RPC_ENDPOINT=https://testnet.toncenter.com/api/v2/jsonRPC
TON_API_KEY=
TON_SENDER_SECRET_KEY_HEX=
TON_SENDER_MNEMONIC="word1 word2 ... word24"
TON_TESTNET_DISPATCH_AMOUNT_NANO=1000000000

# Sui dispatcher (per-unit ship amount = 1 SUI; 1 SUI = 1e9 MIST)
SUI_RPC_URL=https://fullnode.testnet.sui.io:443
SUI_SENDER_KEY=0xreplace-me
SUI_GAS_BUDGET=50000000
SUI_TESTNET_DISPATCH_AMOUNT_MIST=1000000000
SUI_FAUCET=https://faucet.sui.io
